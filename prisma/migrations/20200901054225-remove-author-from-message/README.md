# Migration `20200901054225-remove-author-from-message`

This migration has been generated by y0092888 at 9/1/2020, 7:42:25 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Message" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "timeStamp" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "text" TEXT NOT NULL,
    "postedById" INTEGER,

FOREIGN KEY ("postedById") REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE
);
INSERT INTO "new_Message" ("id", "timeStamp", "text", "postedById") SELECT "id", "timeStamp", "text", "postedById" FROM "Message";
DROP TABLE "Message";
ALTER TABLE "new_Message" RENAME TO "Message";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200901053537-add-user..20200901054225-remove-author-from-message
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
     provider = "sqlite"
-    url = "***"
+    url = "***"
 }
 // 2
 generator client {
@@ -9,9 +9,8 @@
 }
 model Message {
     id         Int      @id @default(autoincrement())
-    author     String
     timeStamp  DateTime @default(now())
     text       String
     postedBy   User?    @relation(fields: [postedById], references: [id])
     postedById Int?
```


